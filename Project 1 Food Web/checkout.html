<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Checkout - FoodieHub</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f9f9f9; padding: 20px; }
    h1 { text-align: center; margin-bottom: 20px; }
    .cart-summary, form {
      max-width: 600px; margin: auto; background: #fff;
      padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin-bottom: 30px;
    }
    .cart-item { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #ddd; }
    .cart-total { text-align: right; font-size: 18px; margin-top: 15px; font-weight: bold; }
    label { display: block; margin: 10px 0 5px; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-bottom: 15px;
      border: 1px solid #ccc; border-radius: 6px;
    }
    .btn { display: block; width: 100%; padding: 12px; background: #28caa7; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; }
    .btn:hover { background: #1a9f80; }
  </style>
</head>
<body>
  <h1>Checkout</h1>

  <!-- Cart Summary -->
  <div class="cart-summary" id="checkoutCart"></div>
  <p class="cart-total">Total: $<span id="checkoutTotal">0</span></p>

  <!-- Checkout Form -->
  <form id="orderForm">
    <h2>Customer Information</h2>
    <label>Full Name</label>
    <input type="text" id="name" required>
    <label>Email Address</label>
    <input type="email" id="email" required>
    <label>Phone Number</label>
    <input type="tel" id="phone" required>
    <label>Delivery Address</label>
    <textarea id="address" rows="3" required></textarea>
    <label>Payment Method</label>
    <select id="payment" required>
      <option value="">-- Select --</option>
      <option value="cod">Cash on Delivery</option>
      <option value="card">Credit/Debit Card</option>
      <option value="paypal">PayPal</option>
    </select>
    <button type="submit" class="btn">Confirm Order</button>
  </form>

  <script>
    // Load cart from localStorage
    const checkoutCart = document.getElementById('checkoutCart');
    const checkoutTotal = document.getElementById('checkoutTotal');
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const total = localStorage.getItem('total') || 0;

    cart.forEach(item => {
      const div = document.createElement('div');
      div.classList.add('cart-item');
      div.innerHTML = `<span>${item.name} × ${item.qty}</span> <span>$${(item.price * item.qty).toFixed(2)}</span>`;
      checkoutCart.appendChild(div);
    });
    checkoutTotal.innerText = total;

    // Handle order form
    document.getElementById('orderForm').addEventListener('submit', function(e) {
      e.preventDefault();
      alert("✅ Order placed successfully! Thank you for choosing FoodieHub.");
      localStorage.removeItem('cart'); localStorage.removeItem('total');
      window.location.href = "index2.html";
    });
  </script>
</body>
</html>
